.. SPDX-License-Identifier:	CC-BY-NC-SA-4.0

新月杀结算说明
==================

本章用来解释该文中涉及的一些特殊用语，以及快速带过每个人都明白的常识= =
毕竟我们的重点放在游戏的结算上面。

用语不一定全，很多都是后面用到了再解释的。

结算的描述方式
----------------

相较于规则集语言，本文会使用伪代码来描述流程的进行，无外乎以下几种规则：

1. 对于“xxx，然后yyy”式的描述，写作“xxx; yyy”，或者分两行
2. 对于分支型描述，写作“若xxx则...(否则...)”，内层结算使用缩进表示
3. 对于循环式描述，写作“当xxx时循环...”或“对XXX中的YYY依次执行...”，
   内层结算使用缩进表示

技能的分类
----------------

技能分为“可发动的”和“不可发动的”两大类。

可发动的：

  - 主动技：出牌阶段空闲时间点可以使用。
  - 视为技：转化牌用于使用打出的技能。
  - 触发技：满足某个触发时机时可以触发的技能。

不可发动的统称“状态技”，如马术、咆哮、帷幕等技能。虽然后两者有语音素材。

当然官方给的锁定技、转换技、限定技等等也算数，但这些属于技能标签，和这里所说的
分类不能算一回事。

游戏用语
----------------

本文会使用的特殊用语
~~~~~~~~~~~~~~~~~~~~~

主要是官方规则集不使用的用语。

- 子卡牌：简称子卡，其实就是转化牌/虚拟牌所对应的实体牌。
- 私人牌堆：“武将牌上、武将牌旁、府库、仓廪”的统称。和标记显示在同一区域。
- 栈：编程术语，一种“后进先出”的数据结构。因为三国杀不少结算都遵循
  “后进来先处理”、“后来的先判定”等操作，故后文将使用该用语。
- 队列：编程术语，一种“先进先出”的数据结构。
- 当前行动者：基本上等同于“当前回合的角色”，但是有些时间点所有角色都不在回合，
  因此定义“当前行动者”概念。当有角色在回合内时，当前行动者就是指该角色；其他
  情况下，当前行动者一般指的是即将进行额定回合的那名角色，比如游戏开始时，
  当前行动者就是一号位，虽然此时所有角色都处于回合外。

与人类有关的用语
~~~~~~~~~~~~~~~~~

- 玩家：正在玩游戏的人或者陪玩的bot。
- 角色：游戏中实际参与结算的实体，与每名玩家一一对应。

与牌有关的用语
~~~~~~~~~~~~~~~

- 身份牌：表示你身份的牌，在游戏中以图标的形式显示在你的右上角
- 武将牌：代表你操控的武将的牌，牌面上标记着武将的姓名、势力、体力值、
  初始体力上限（如果与体力不同的话）、护甲、武将版本等。
- 体力牌：用来标记你体力的牌。在本游戏中直接显示在界面上，而非显示一张牌。
- 游戏牌：简称“牌”，游戏中用来游玩的牌，分为基本牌、锦囊牌、装备牌。
- 衍生牌：某些技能会召唤游戏外的牌，若不开启衍生牌包可能导致技能不正常。
- 子卡牌：简称子卡，其实就是转化牌/虚拟牌所对应的实体牌。

与牌的区域有关的用语
~~~~~~~~~~~~~~~~~~~~~

- 牌堆：根据房主开启的牌堆，洗牌后用来提供摸牌的区域。牌堆数显示在右上角。
- 弃牌堆、处理区、游戏外（主要用于销毁等操作）：均不在屏幕上显示。
- 手牌区：数量显示在每个人左下角。你自己的手牌显示在屏幕底部。
- 判定区：其中的牌以小图标形式显示在每个人左下角。
- 装备区：以图标+文字+花色点数的形式显示在每个人下方。
- 私人牌堆：“武将牌上、武将牌旁、府库、仓廪”的统称。和标记显示在同一区域。
  （此称谓出自安河大神的神杀教程）
- 仁区：类似私人牌堆，但是与角色无关，是公共的区域。一般显示在左上角。

与数值有关的用语
~~~~~~~~~~~~~~~~~

- 体力值、体力上限、已损失的体力值：略
- 手牌上限：弃牌阶段能保存的最大手牌数量。默认为体力值，但是若与体力值不同，
  则在手牌数量上显示为X/Y的形式。
- 伤害值基数、回复值基数：牌或描述中声明的对应数值。
- 距离：不会算的话可以按D键显示。
- 攻击范围：其初始值为已装备武器牌上面的攻击范围数值，没有则为1。
- X、Y、Z：技能描述中出现的变量，为使描述清晰而设立。一般来说不宜出现Y和Z。
- 不大于：小于或等于。怎么有人还问这种问题啊。
- 额定摸牌数：摸牌阶段的初始摸牌数量，默认2。

与描述相关的用语
~~~~~~~~~~~~~~~~~

- 非锁定技：除了锁定技、觉醒技之外的技能。
- 主公技：在游戏开始时，仅当身份为主公时才会分配给角色的技能。
- <角色>的牌：他的手牌和装备区内的牌。
- <角色>区域内的牌：他的手牌、装备区内的牌、判定区内的牌。
- <角色>的手牌：他的手牌。只是为了和前两项凑一家。
- 可、可以：在消耗环节，角色可以选择是否执行。
- 空心括号、实心括号：前者标记技能名，后者标记牌名。但不少描述没这么做。
- 引号：标记私人牌堆、标记以及其他需要用引号的事物（如小游戏）的符号。

与事件和流程有关的用语
~~~~~~~~~~~~~~~~~~~~~~~

- 事件、结算、流程：都称为事件，比如进行回合、使用牌、造成伤害等。
- 时机：即触发时机，在一个事件内部可能有多个触发时机被触发，如“受到伤害后”等。
- 数据：事件、时机都会有与之匹配的数据，里面表示着相关的角色、牌、数值等。
- 轮数：从存活首位的回合开始前算作每轮开始，存活末位的回合结束后算作每轮结束。
- 回合：玩家执行各个阶段的时点，从上家回合结束后（若首轮首位则是轮数开始后）开始算作回合开始，最后一个阶段结束后算作回合结束。
- 阶段：玩家执行不同效果的时点，分为准备，判定，摸牌，出牌，弃牌，结束共6个阶段。
        
准备；无实际操作。
判定：执行玩家判定区内的牌的效果。
摸牌：从牌堆摸获得牌至手牌。
出牌：玩家主要执行卡牌效果与技能的阶段；主动技仅能在出牌阶段使用。
弃牌：玩家需要主动弃置超出手牌上限数量的牌。
结束：无实际操作。

具体参考村规02--事件与时机


与操作牌相关的用语
~~~~~~~~~~~~~~~~~~~

- 移动：玩家将一张牌移动到某个区域的动作。
- 弃置：玩家的牌移动到弃牌堆的动作。
- 获得：玩家将一张牌移动到自己手牌区或装备区的动作。
- 失去：玩家的手牌或装备区的装备移动到除自身手牌区或装备区以外的区域的动作。
- 摸、摸牌：玩家将牌堆的牌移动到自身手牌区的动作。

.. toctree::
   :numbered:

   02-event.rst
   03-movecard.rst
   04-gameflow.rst
   05-skill.rst
   06-use-response.rst
   07-hp.rst
   08-death.rst
   09-judge.rst
   10-property.rst

   faq.rst
