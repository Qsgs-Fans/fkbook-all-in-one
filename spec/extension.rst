拓展规范文档
================

简介
-------

本文档仍处于草稿状态。
本文档针对未来的某个重构了拓展写法的新版本，目前（v0.5.3）应该是尚未实装，
仍在讨论可行性之中。

新月杀本身仅含有最基本的标准包，拓展是用以拓展游戏玩法的，其由一个或多个包
(package) 组成。为了使拓展的开发与维护更加便捷、统一，特制定此规范。

拓展与包的基本结构
--------------------

拓展存在于游戏目录的 ``packages/`` 目录之下，其本身是一个目录。文件结构如下：

::

    extension
    ├── init.lua
    ├── package1
    │   ├── init.lua
    │   └── skills
    │       ├── init.lua
    │       ├── jianxiong.lua
    │       └── ...
    ├── package2
    └── ...

拓展根目录中的 ``init.lua`` 需要加载其包含的所有包。

包可以用来拓展更多的技能、武将、卡牌、游戏模式。
每个包目录中的 ``init.lua`` 需要加载其包含的所有技能，然后其余部分定义该包含有的
武将、卡牌和游戏模式等。技能位于包的 ``skills/`` 目录下，每个技能置于单独的Lua
文件中， ``skills/init.lua`` 需要手动require目录中所有技能文件，并返回表。

定义武将
-----------

暂定

定义卡牌
-----------

暂定

定义游戏模式
--------------

暂定

定义技能
-------------

暂定
